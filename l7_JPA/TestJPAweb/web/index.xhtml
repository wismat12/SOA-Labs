<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>bazy</title>
</h:head>
<h:body>

    <h:form>
        Wybierz Bazę: <br/>
        <h:selectOneListbox value = "#{mainManagedBean.chosenDb}">
            <f:selectItems value="#{mainManagedBean.dbs}"/>
            <f:ajax render="actionsDB" />
        </h:selectOneListbox>
        <br/>

        <h:panelGroup id="actionsDB" >

            <h:panelGroup rendered="#{mainManagedBean.actionsRendered}">
                <h:outputText value="#{'BAZA'}"/> <br/>

                <ui:repeat value = "#{mainManagedBean.chosenDb == 'zawodnik'? mainManagedBean.zawodnicy:mainManagedBean.sklepy}" var = "que">
                    #{que} <br/>
                </ui:repeat>

                <h:outputText value="Co chcesz zrobić:"/> <br/>

                <h:selectOneListbox value = "#{mainManagedBean.chosenAction}">
                    <f:selectItems value="#{mainManagedBean.actions}"/>
                    <f:ajax render="afterChosenAction" />
                </h:selectOneListbox>
            </h:panelGroup>
        </h:panelGroup>

        <h:panelGroup id="afterChosenAction">
            <h:panelGroup rendered="#{mainManagedBean.afterChosenAction}">
                <ui:include src="#{mainManagedBean.formType}" /> <br/>
            </h:panelGroup>
        </h:panelGroup>


    </h:form>

</h:body>
</html>
